# Authelia 认证服务配置
# 文件: traefik/config/dynamic/authelia.yml

http:
  services:
    authelia:
      loadBalancer:
        servers:
          - url: "http://authelia:9091"
        passHostHeader: true
        healthCheck:
          path: /api/health
          interval: "30s"
          timeout: "5s"

  routers:
    authelia:
      entryPoints:
        - websecure
      rule: 'Host(`auth.{{ env "DOMAIN" }}`)'
      service: authelia
      middlewares:
        - web-chain@file
      tls:
        certResolver: default
      priority: 90
