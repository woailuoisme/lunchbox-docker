[PHP]
; ============================================================================
; 内存和文件上传配置
; ============================================================================

; 脚本最大内存限制 - 根据应用需求调整
memory_limit = 512M

; POST 请求最大数据大小 - 必须大于 upload_max_filesize
post_max_size = 50M

; 单个文件上传最大大小
upload_max_filesize = 50M

; ============================================================================
; 错误报告和显示配置
; ============================================================================

; 开发环境错误报告级别
error_reporting = E_ALL

; 显示错误信息（开发环境启用）
display_errors = On

; 显示启动错误
display_startup_errors = On

; ============================================================================
; OPcache 优化配置 - 提升 PHP 性能
; ============================================================================

; 启用 OPcache 字节码缓存
opcache.enable = 1

; 在 CLI 模式下也启用 OPcache (对 Composer、Artisan 等有益)
opcache.enable_cli = 1

; OPcache 共享内存大小 (MB) - 根据项目大小调整
opcache.memory_consumption = 256

; 驻留字符串内存大小 (MB) - 存储重复字符串，减少内存使用
opcache.interned_strings_buffer = 8

; 最大缓存文件数量 - 根据项目文件数量调整
opcache.max_accelerated_files = 40000

; 检查文件修改时间间隔 (秒) - 0 表示每次请求都检查 (开发环境)
; 生产环境建议设置为 60 或更高以减少 I/O
opcache.revalidate_freq = 0

; 快速关闭 - 在一次请求结束时回收内存
opcache.fast_shutdown = 1

; ============================================================================
; 执行时间和输出缓冲配置
; ============================================================================

; 脚本最大执行时间（秒）- 调试时可能需要更长时间
max_execution_time = 300

; 输入最大执行时间（秒）
max_input_time = 300

; 输出缓冲大小
output_buffering = 4096

; ============================================================================
; 日志配置
; ============================================================================

; 错误日志文件路径
error_log = /var/log/php/error.log

; 日志错误级别
log_errors = On

; 记录所有错误
log_errors_max_len = 1024
