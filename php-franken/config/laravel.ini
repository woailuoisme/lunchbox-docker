; ============================================================================
; Laravel 应用 PHP 配置文件
; ============================================================================

; 设置默认时区
date.timezone = Asia/Shanghai

; 设置默认字符集
default_charset = "UTF-8"

; 关闭错误显示（生产环境安全设置）
display_errors=Off

; 开启错误日志记录
log_errors=On

; 错误日志输出到标准错误流（便于 Docker 日志收集）
error_log = /proc/self/fd/2

; 3. 自定义访问日志格式（关键！可按需添加字段）
; 格式语法：%[字段名]s，支持的核心字段如下：
; - %R：客户端 IP（需 Nginx 传递，否则显示 127.0.0.1）
; - %u：认证用户（若有）
; - %t：请求时间（格式固定为 [d/M/Y:H:i:s +0000]）
; - %m：HTTP 请求方法（GET/POST 等，需 Nginx 传递）
; - %U：请求的 URL 路径（需 Nginx 传递）
; - %q：URL 查询参数（如 ?id=1）
; - %s：HTTP 状态码（需 Nginx 传递）
; - %f：执行的 PHP 脚本文件路径（如 /var/www/lunchbox/index.php）
; - %-d：脚本执行时间（单位：秒，保留小数）
; - %-m：消耗的内存（单位：MB）

; 自定义格式示例（包含客户端 IP、时间、方法、URL、状态码、脚本路径、执行时间）
access.format = "%R - %t \"%m %U%q\" %s \"%f\" %-d seconds %-m MB"

; ============================================================================
; 内存和执行时间配置
; ============================================================================

; PHP 内存限制
memory_limit = 256M

; 上传文件大小限制
upload_max_filesize = 20M

; POST 数据大小限制
post_max_size = 20M

; 最大执行时间（秒）
max_execution_time=600

; 默认 Socket 超时时间（秒）
default_socket_timeout=3600

; 请求终止超时时间
request_terminate_timeout = 600s


