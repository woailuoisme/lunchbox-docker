# SPA 应用模板（Vue.js / React / Angular）
# 用法: import spa-app <域名> <静态文件目录>
# 示例: import spa-app app.{$SITE_ADDRESS} /var/www/app/dist

(spa-app) {
	{args[0]} {
		import ../snippets/request-log.conf
		import ../snippets/security.conf

		root * {args[1]}
		encode zstd gzip

		# SPA 路由：先尝试文件，不存在则返回 index.html
		try_files {path} /index.html
		file_server
	}
}
