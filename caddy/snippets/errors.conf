#handle_errors {
#	# 1. 匹配 400 到 599 范围内的状态码
#	@errors expression {http.error.status_code} >= 400
#
#	# 2. 内部重写请求到根路径
#	rewrite @errors /
#
#	# 3. 反向代理到 tarampampam/error-pages 服务
#	reverse_proxy @errors error-pages:8080 {
#		# 关键：通过 X-Code 传递 Caddy 捕获的原始错误码
#		header_up X-Code {http.error.status_code}
#
#		# 传递原始请求路径
#		header_up X-Uri {http.request.uri}
#
#		# 传递原始主机名
#		header_up X-Original-Host {http.request.host}
#
#		# 传递请求方法
#		header_up X-Original-Method {http.request.method}
#
#		# 健康检查和超时优化
#		health_uri /health
#		health_interval 30s
#		health_timeout 5s
#		fail_duration 30s
#	}
#}
